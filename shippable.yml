language: node_js


# Version number
node_js:
  - 0.10.25


# The path for Xunit to output test reports
env:
 global:
  - XUNIT_FILE=shippable/testresults/result.xml
  - secure: pabLivs1ycAe0MT7VmEFBifLxmzyGfvdmlOriz9MhRctsMGbHOMP/AaBqTGYwNE78DQERJPSwuIWdw5uBt2NZyvO4XF1bF9l1iiK0aDNLatrc/xHd+TGSgkCLKV8lnwKbpLENGW6gvILujXZll2Tb+kjXSXTkGpgsx09n8DJP2VR4Cr2+XjkCqQf3r4qvYwlGCgTtrYtQQ75ugUBORsK6QVuIPXowxyh3ufkisvGGuU8udL0YQ5aw9U2GQKbqe3g+F8wZ0zy0Djdv+VtgNjbL3lvb8i+e4U3bCge8sXAmg7J5y3vQEguUkOM2sQGB8TmAs9R2wGAV1ks9/RfUMqZhg==


# Create directories for test and coverage reports
before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage
  - echo $key1 and $key2
  
before_install:
  - node --version
  - npm install -g grunt-cli



archive: true

# Running the tests with grunt
script:
  - grunt

# Tell istanbul to generate a coverage report
after_script:
  - ./node_modules/.bin/istanbul cover grunt -- -u tdd
  - ./node_modules/.bin/istanbul report cobertura --dir  shippable/codecoverage/
